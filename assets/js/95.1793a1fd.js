(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{599:function(t,e,r){"use strict";r.r(e);var n=r(13),a=Object(n.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"中间件"}},[t._v("中间件")]),t._v(" "),r("p",[t._v("搭建项目时，按照敏捷规则不到万不得以尽量不要使用中间件，使用中间件会增加代码层面成本（编写、维护）、中间件成本(搭建、维护）。\n但是有些中间件是必不可少的，比如服务器（"),r("code",[t._v("Netty、Jetty、Undertow、Tomcat")]),t._v("），下面按照必要、非必要对中间件进行梳理。")]),t._v(" "),r("h2",{attrs:{id:"必要中间件"}},[t._v("必要中间件")]),t._v(" "),r("h3",{attrs:{id:"服务器"}},[t._v("服务器")]),t._v(" "),r("p",[t._v("服务器一般都支持 nio 和阻塞 io，在服务器启动时使用 nio 模型。Netty、Jetty、Undertow、Tomcat都实现了"),r("code",[t._v("Reactor")]),t._v("模型，所以了解"),r("code",[t._v("Reactor")]),t._v("就等于学会了服务器容器，其实大公司内部也会编写轻量级Rpc服务器。")]),t._v(" "),r("h2",{attrs:{id:"非必要中间件"}},[t._v("非必要中间件")]),t._v(" "),r("h3",{attrs:{id:"redis"}},[t._v("Redis")]),t._v(" "),r("p",[r("code",[t._v("Reactor")]),t._v("中的 acceptor 属于CPU密集型，handler包含三种：CPU密集型、IO 密集型、混合型。因为 Redis 中的 hanler 是 CPU 密集型，所以设计成单线程的就很合理。对于我们服务器来讲，一般情况下 handler 为 IO 密集型、混合型，所以使用 Redis 是将 IO 密集型、混合型转换成 CPU 密集型，还有一种使用方式就是缓解 CPU 压力而做缓存。")]),t._v(" "),r("p",[t._v("更细使用请查看"),r("a",{attrs:{href:"http://icyfenix.cn/architect-perspective/general-architecture/diversion-system/cache-middleware.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("凤凰架构 服务端缓存"),r("OutboundLink")],1)]),t._v(" "),r("h3",{attrs:{id:"mq"}},[t._v("MQ")]),t._v(" "),r("p",[t._v("应用系统中调用三方系统，并且不依赖三方系统（耗时长）结果，此时就可以使用 MQ ，例如：BI数据上报、订单通知物流。\nMQ还可以做到“削峰填谷”的作用，如果全天只有一小段时间出现流量剧增，出现毛刺，就可以使用 MQ 进行应对。juc 内的 BlockingQueue 也是一个 MQ。")])])}),[],!1,null,null,null);e.default=a.exports}}]);