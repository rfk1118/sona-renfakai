(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{473:function(t,s,e){t.exports=e.p+"assets/img/components.334d6816.png"},474:function(t,s,e){t.exports=e.p+"assets/img/netty-git-history.a2ef4767.jpg"},475:function(t,s,e){t.exports=e.p+"assets/img/commit-template.808135bd.jpg"},476:function(t,s,e){t.exports=e.p+"assets/img/40-nettyapi.015934d0.jpg"},477:function(t,s,e){t.exports=e.p+"assets/img/41-nettyapi.64759c91.jpg"},478:function(t,s,e){t.exports=e.p+"assets/img/AbstractBootstrapConfig.76fe18ec.jpg"},479:function(t,s,e){t.exports=e.p+"assets/img/issues.0fa28a92.jpg"},480:function(t,s,e){t.exports=e.p+"assets/img/bootconfig.bbf23801.jpg"},602:function(t,s,e){"use strict";e.r(s);var a=e(19),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"如何读源码"}},[t._v("如何读源码")]),t._v(" "),a("h2",{attrs:{id:"为什么要会读源码"}},[t._v("为什么要会读源码？")]),t._v(" "),a("ul",[a("li",[t._v("书上讲的都是理论知识，无法直接使用到项目中，空有理论知识，不能落地，学过的知识很快就忘记了；")]),t._v(" "),a("li",[t._v("视频里都是讲案例和部分源码，看过之后犹如沙子上画画，风一吹就没了；")])]),t._v(" "),a("h2",{attrs:{id:"查看官网"}},[t._v("查看官网")]),t._v(" "),a("p",[t._v("打开"),a("a",{attrs:{href:"https://netty.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),a("OutboundLink")],1),t._v("，查看架构设计，这一步很重要，其可以快速了解项目设计理念和应用。")]),t._v(" "),a("div",{staticClass:"custom-block center"},[a("p",[a("img",{attrs:{src:e(473),alt:"An image"}})])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://netty.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("Netty"),a("OutboundLink")],1),t._v(" 是一款异步事件驱动的网络应用程序框架，支持快速地开发可维护的、高性能的、面向协议的服务器和客户端。")]),t._v(" "),a("h2",{attrs:{id:"为什么要看源码历史"}},[t._v("为什么要看源码历史？")]),t._v(" "),a("h3",{attrs:{id:"为什么"}},[t._v("为什么？")]),t._v(" "),a("ul",[a("li",[t._v("根据提交历史记录拨丝抽茧找到代码核心底层逻辑；")]),t._v(" "),a("li",[t._v("根据历史提交追根溯源，知道代码为什么要这么写。")])]),t._v(" "),a("h3",{attrs:{id:"怎么做"}},[t._v("怎么做？")]),t._v(" "),a("p",[t._v("按照下面流程进行操作：")]),t._v(" "),a("mermaid",{staticStyle:{"margin-bottom":"0px"}},[t._v("\nflowchart LR\n    A(克隆代码) --\x3e B(查看提交历史)\n    B --\x3e C(查看Git commit template)\n")]),t._v(" "),a("h3",{attrs:{id:"详细流程"}},[t._v("详细流程")]),t._v(" "),a("p",[t._v("打开"),a("a",{attrs:{href:"https://github.com/netty/netty",target:"_blank",rel:"noopener noreferrer"}},[t._v("netty github"),a("OutboundLink")],1),t._v("，找到仓库地址，"),a("code",[t._v("git clone")]),t._v("或者"),a("code",[t._v("IDE")]),t._v("拉取代码，查看 Git 提交历史，这个东西到底该怎么用呢？")]),t._v(" "),a("div",{staticClass:"custom-block center"},[a("p",[a("img",{attrs:{src:e(474),alt:"An image"}})])]),t._v(" "),a("p",[t._v("每个提交点都提交了什么东西呢？")]),t._v(" "),a("p",[a("img",{attrs:{src:e(475),alt:"An image"}})]),t._v(" "),a("h3",{attrs:{id:"如何使用历史提交记录呢"}},[t._v("如何使用历史提交记录呢？")]),t._v(" "),a("p",[t._v("如何看明白一段或者一行代码呢？其主流程如下：")]),t._v(" "),a("mermaid",{staticStyle:{"margin-bottom":"0px"}},[t._v("\nflowchart LR\n    A(查看某个类或者某行代码) --\x3e B(找到提交点)\n    B --\x3e C(查看Git commit template)\n    C --\x3e D(Git issues 改动背景)\n    D --\x3e E(代码改动)\n")]),t._v(" "),a("h4",{attrs:{id:"案例"}},[t._v("案例")]),t._v(" "),a("p",[t._v("以"),a("code",[t._v("Netty AbstractBootstrapConfig")]),t._v("为例查看为什么它会出现？让我们对比 4.0 版本和 4.1 版本"),a("code",[t._v("io.netty.bootstrap")]),t._v("包的区别。")]),t._v(" "),a("div",{staticClass:"custom-block center"},[a("p",[a("img",{attrs:{src:e(476),alt:"An image"}}),t._v(" "),a("img",{attrs:{src:e(477),alt:"An image"}})])]),t._v(" "),a("p",[t._v("对比发现 4.1 版本的包比 4.0 版本的包多了"),a("code",[t._v("BootstrapConfig")]),t._v("，为什么会出现这个类呢？不用多想肯定是有需求才会有产生这样变化。需求是什么呢？打开"),a("code",[t._v("AbstractBootstrapConfig")]),t._v("查看这个代码的提交点。")]),t._v(" "),a("p",[a("img",{attrs:{src:e(478),alt:"An image"}})]),t._v(" "),a("p",[t._v("查看提交点"),a("code",[t._v("Git template")]),t._v("提交了什么信息？")]),t._v(" "),a("div",{staticClass:"language-yml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[t._v("暴露Bootstrap数据数据获取方法\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#5174] Expose Bootstrap getter methods and add some additional ones")]),t._v("\n\n动机"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("因为Bootstrap暴露的获取数量的方法过少\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Motivation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  The Bootstrap class (applies also to AbstractBootstrap and ServerBootstrap) has a few package private getter methods and some things such as "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#attr() and #options() aren't exposed at all.")]),t._v("\n变更"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("使用更安全的管理方式暴露配置数据\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Modifications")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v('  Expose "getters" for configured things in a safe'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("manner via the config() method.\n结果"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("更简单的检查配置好的启动程序\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Result")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  Easier for the user to check what is configured for a Bootstrap/ServerBootstrap.\n")])])]),a("p",[t._v("产生这次变动的"),a("a",{attrs:{href:"https://github.com/netty/netty/issues/5174",target:"_blank",rel:"noopener noreferrer"}},[t._v("动机"),a("OutboundLink")],1),t._v("是什么？")]),t._v(" "),a("div",{staticClass:"custom-block center"},[a("p",[a("img",{attrs:{src:e(479),alt:"An image"}})])]),t._v(" "),a("p",[t._v("在 3 处输入 5174，就可以看到结果。")]),t._v(" "),a("div",{staticClass:"custom-block center"},[a("p",[a("img",{attrs:{src:e(480),alt:"An image"}})])]),t._v(" "),a("p",[t._v("译文：我们的程序使用 "),a("code",[t._v("Java")]),t._v(" 开发，但是我们用"),a("code",[t._v("Clojure")]),t._v("代替了普通配置文件，但是我们无法测试远程地址是否未配置，这时候我们就理解了"),a("code",[t._v("AbstractBootstrapConfig")]),t._v("为什么会出现以及它的职责。")]),t._v(" "),a("h2",{attrs:{id:"总结"}},[t._v("总结")]),t._v(" "),a("ul",[a("li",[t._v("使用上述方式可以快速查看代码历史背景和需求推动；")]),t._v(" "),a("li",[a("code",[t._v("Netty")]),t._v("很值得学习的一点就是关于背景、动机、结果描述的很清晰，让后面参与的维护者可以通过 "),a("code",[t._v("Git")]),t._v(" 提交记录感知到历史上下文，降低口口传递成本。")])])],1)}),[],!1,null,null,null);s.default=n.exports}}]);