(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{437:function(t,s,a){t.exports=a.p+"assets/img/components.334d6816.png"},438:function(t,s,a){t.exports=a.p+"assets/img/netty-git-history.a2ef4767.jpg"},439:function(t,s,a){t.exports=a.p+"assets/img/commit-template.808135bd.jpg"},440:function(t,s,a){t.exports=a.p+"assets/img/40-nettyapi.015934d0.jpg"},441:function(t,s,a){t.exports=a.p+"assets/img/41-nettyapi.64759c91.jpg"},442:function(t,s,a){t.exports=a.p+"assets/img/AbstractBootstrapConfig.76fe18ec.jpg"},443:function(t,s,a){t.exports=a.p+"assets/img/issues.0fa28a92.jpg"},444:function(t,s,a){t.exports=a.p+"assets/img/bootconfig.bbf23801.jpg"},445:function(t,s,a){t.exports=a.p+"assets/img/handlers.f3763f4f.jpg"},446:function(t,s,a){t.exports=a.p+"assets/img/demo.4daf4f1f.jpg"},549:function(t,s,a){"use strict";a.r(s);var e=a(13),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"如何读源码"}},[t._v("如何读源码")]),t._v(" "),e("h3",{attrs:{id:"为什么要会读源码"}},[t._v("为什么要会读源码？")]),t._v(" "),e("ul",[e("li",[t._v("书上讲的都是理论知识，无法直接使用到项目中，空有理论知识，不能落地，学过的知识很快就忘记了。")]),t._v(" "),e("li",[t._v("视频里都是讲案例和部分源码，看过之后犹如沙子上画画，风一吹就没了。")])]),t._v(" "),e("h3",{attrs:{id:"查看官网"}},[t._v("查看官网")]),t._v(" "),e("p",[t._v("打开官网"),e("a",{attrs:{href:"https://netty.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("netty"),e("OutboundLink")],1),t._v("，然后看看整体架构设计。"),e("br"),t._v("\nNetty is an asynchronous event-driven network application framework\nfor rapid development of maintainable high performance protocol servers & clients."),e("br")]),t._v(" "),e("p",[t._v("Netty 是一款异步的事件驱动的网络应用程序框架，支持快速地开发可维护的高性能的面向协议的服务器和客户端。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(437),alt:"An image"}})]),t._v(" "),e("h3",{attrs:{id:"如何看源码历史背景"}},[t._v("如何看源码历史背景？")]),t._v(" "),e("ul",[e("li",[t._v("可以根据历史背景拨丝抽茧找到代码核心底层逻辑。")]),t._v(" "),e("li",[t._v("可以根据历史提交追根溯源，查找代码为什么要这么写。")])]),t._v(" "),e("h3",{attrs:{id:"clone-代码和查看提交历史及提交模版"}},[t._v("clone 代码和查看提交历史及提交模版")]),t._v(" "),e("ol",[e("li",[t._v("打开"),e("a",{attrs:{href:"https://github.com/netty/netty",target:"_blank",rel:"noopener noreferrer"}},[t._v("netty github"),e("OutboundLink")],1),t._v("，然后就可以看到代码。")]),t._v(" "),e("li",[e("code",[t._v("git clone")]),t._v("或者"),e("code",[t._v("IDE")]),t._v("拉取代码，可以看到 Git 提交历史，这个东西到底该怎么用呢？")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(438),alt:"An image"}})]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[t._v("每次提交都提交了什么东西呢？")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(439),alt:"An image"}})]),t._v(" "),e("h3",{attrs:{id:"如何使用历史背景呢"}},[t._v("如何使用历史背景呢？")]),t._v(" "),e("ol",[e("li",[t._v("以"),e("code",[t._v("Netty AbstractBootstrapConfig")]),t._v("为案例查看为什么它会出现？让我们对比 4.0 版本和 4.1 版本"),e("code",[t._v("io.netty.bootstrap")]),t._v("包的区别。")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(440),alt:"An image"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(441),alt:"An image"}})]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[t._v("你会发现 4.1 版本的包比 4.0 版本的包多了"),e("code",[t._v("BootstrapConfig")]),t._v("，那为什么会出现这个类呢？不用多想肯定是有需求，才会有产生，需求是什么呢？打开"),e("code",[t._v("AbstractBootstrapConfig")]),t._v("查看这个代码的第一次提交。")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(442),alt:"An image"}})]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[t._v("来让我们看看这段"),e("code",[t._v("Git template")]),t._v("写了什么？")])]),t._v(" "),e("div",{staticClass:"language-yml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yml"}},[e("code",[t._v("暴露Bootstrap数据数据获取方法\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#5174] Expose Bootstrap getter methods and add some additional ones")]),t._v("\n\n动机"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("因为Bootstrap暴露的获取数量的方法过少\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Motivation")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  The Bootstrap class (applies also to AbstractBootstrap and ServerBootstrap) has a few package private getter methods and some things such as "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#attr() and #options() aren't exposed at all.")]),t._v("\n变更"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("使用更安全的管理方式暴露配置数据\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Modifications")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v('  Expose "getters" for configured things in a safe'),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("manner via the config() method.\n结果"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("更简单的检查配置好的启动程序\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Result")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  Easier for the user to check what is configured for a Bootstrap/ServerBootstrap.\n")])])]),e("ol",{attrs:{start:"4"}},[e("li",[t._v("产生这次变动的"),e("a",{attrs:{href:"https://github.com/netty/netty/issues/5174",target:"_blank",rel:"noopener noreferrer"}},[t._v("动机"),e("OutboundLink")],1),t._v("是什么？")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(443),alt:"An image"}})]),t._v(" "),e("ol",{attrs:{start:"5"}},[e("li",[t._v("在 3 处输入 5174，就可以看到结果。")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(444),alt:"An image"}})]),t._v(" "),e("ol",{attrs:{start:"6"}},[e("li",[t._v("我们使用 java 开发程序，但是我们用"),e("code",[t._v("Clojure")]),t._v("代替了普通配置文件，但是我们我无法测试远程地址是否未配置。")])]),t._v(" "),e("h3",{attrs:{id:"包的分类"}},[t._v("包的分类")]),t._v(" "),e("ul",[e("li",[t._v("bootstrap 主要处理客户端和服务端的启动")]),t._v(" "),e("li",[t._v("buffer 为数据的容器")]),t._v(" "),e("li",[t._v("chanel 负责服务器接听和连接")]),t._v(" "),e("li",[t._v("util 集合，多线程工具类")]),t._v(" "),e("li",[t._v("handler 也是就是业务处理\n"),e("ul",[e("li",[t._v("codec 处理一次编码和二次编码问题")]),t._v(" "),e("li",[t._v("timeout 处理心跳问题")]),t._v(" "),e("li",[t._v("traffic 进行流量整形")]),t._v(" "),e("li",[t._v("ipfilter 主要是 ip 黑白名单问题")]),t._v(" "),e("li",[t._v("打印进出站数据问题")])])])]),t._v(" "),e("p",[e("img",{attrs:{src:a(445),alt:"An image"}})]),t._v(" "),e("h3",{attrs:{id:"合理使用-example"}},[t._v("合理使用 Example")]),t._v(" "),e("p",[t._v("对于合适的场景，查找合适的 "),e("code",[t._v("Example")]),t._v(" ，进行运行和测试，查看其流程。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(446),alt:"An image"}})]),t._v(" "),e("h3",{attrs:{id:"总结"}},[t._v("总结")]),t._v(" "),e("ul",[e("li",[t._v("使用上面的方式就可以根据历史背景查看需求推动，"),e("code",[t._v("Netty")]),t._v("特别好的一点就是关于背景，动机，结果写的特别清晰，可以让后面人员通过 Git 提交记录感知到上下文，减少了口口传递的成本。")]),t._v(" "),e("li",[t._v("包分配清晰，容易理解架构")]),t._v(" "),e("li",[t._v("Example 较多，可以快速的使用和学习")])])])}),[],!1,null,null,null);s.default=r.exports}}]);