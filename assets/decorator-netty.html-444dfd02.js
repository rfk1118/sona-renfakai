const n=JSON.parse('{"key":"v-2fda5e91","path":"/basic-skill/design-pattern/structure/decorator/decorator-netty.html","title":"Decorator-Netty","lang":"zh-CN","frontmatter":{"description":"Decorator-Netty netty 数据优化 SelectedSelectionKeySet代码不在粘贴，其中大部分代码都没有修改，只对部分功能做了增强，例如SelectedSelectionKeySetSelector#select final class SelectedSelectionKeySetSelector extends Selector { private final SelectedSelectionKeySet selectionKeys; private final Selector delegate; SelectedSelectionKeySetSelector(Selector delegate, SelectedSelectionKeySet selectionKeys) { this.delegate = delegate; this.selectionKeys = selectionKeys; } @Override public boolean isOpen() { return delegate.isOpen(); } @Override public SelectorProvider provider() { return delegate.provider(); } @Override public Set&lt;SelectionKey&gt; keys() { return delegate.keys(); } @Override public Set&lt;SelectionKey&gt; selectedKeys() { return delegate.selectedKeys(); } @Override public int selectNow() throws IOException { selectionKeys.reset(); return delegate.selectNow(); } @Override public int select(long timeout) throws IOException { // 增强功能 selectionKeys.reset(); return delegate.select(timeout); } @Override public int select() throws IOException { // 增强功能 selectionKeys.reset(); return delegate.select(); } @Override public Selector wakeup() { return delegate.wakeup(); } @Override public void close() throws IOException { delegate.close(); } }","head":[["meta",{"property":"og:url","content":"https://renfakai.com/basic-skill/design-pattern/structure/decorator/decorator-netty.html"}],["meta",{"property":"og:site_name","content":"天道酬勤"}],["meta",{"property":"og:title","content":"Decorator-Netty"}],["meta",{"property":"og:description","content":"Decorator-Netty netty 数据优化 SelectedSelectionKeySet代码不在粘贴，其中大部分代码都没有修改，只对部分功能做了增强，例如SelectedSelectionKeySetSelector#select final class SelectedSelectionKeySetSelector extends Selector { private final SelectedSelectionKeySet selectionKeys; private final Selector delegate; SelectedSelectionKeySetSelector(Selector delegate, SelectedSelectionKeySet selectionKeys) { this.delegate = delegate; this.selectionKeys = selectionKeys; } @Override public boolean isOpen() { return delegate.isOpen(); } @Override public SelectorProvider provider() { return delegate.provider(); } @Override public Set&lt;SelectionKey&gt; keys() { return delegate.keys(); } @Override public Set&lt;SelectionKey&gt; selectedKeys() { return delegate.selectedKeys(); } @Override public int selectNow() throws IOException { selectionKeys.reset(); return delegate.selectNow(); } @Override public int select(long timeout) throws IOException { // 增强功能 selectionKeys.reset(); return delegate.select(timeout); } @Override public int select() throws IOException { // 增强功能 selectionKeys.reset(); return delegate.select(); } @Override public Selector wakeup() { return delegate.wakeup(); } @Override public void close() throws IOException { delegate.close(); } }"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-10-12T15:47:17.000Z"}],["meta",{"property":"article:modified_time","content":"2023-10-12T15:47:17.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Decorator-Netty\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-10-12T15:47:17.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":3,"title":"netty 数据优化","slug":"netty-数据优化","link":"#netty-数据优化","children":[]},{"level":3,"title":"Netty","slug":"netty","link":"#netty","children":[]},{"level":3,"title":"总结","slug":"总结","link":"#总结","children":[]}],"git":{"createdTime":1697125637000,"updatedTime":1697125637000,"contributors":[{"name":"renfakai","email":"rfk1118@gmail.com","commits":1}]},"readingTime":{"minutes":1.21,"words":363},"filePathRelative":"basic-skill/design-pattern/structure/decorator/decorator-netty.md","localizedDate":"2023年10月12日","excerpt":"<h1> Decorator-Netty</h1>\\n<h3> netty 数据优化</h3>\\n<ol>\\n<li><code>SelectedSelectionKeySet</code>代码不在粘贴，其中大部分代码都没有修改，只对部分功能做了增强，例如<code>SelectedSelectionKeySetSelector#select</code></li>\\n</ol>\\n<div class=\\"language-java line-numbers-mode\\" data-ext=\\"java\\"><pre class=\\"language-java\\"><code><span class=\\"token keyword\\">final</span> <span class=\\"token keyword\\">class</span> <span class=\\"token class-name\\">SelectedSelectionKeySetSelector</span> <span class=\\"token keyword\\">extends</span> <span class=\\"token class-name\\">Selector</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token keyword\\">private</span> <span class=\\"token keyword\\">final</span> <span class=\\"token class-name\\">SelectedSelectionKeySet</span> selectionKeys<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token keyword\\">private</span> <span class=\\"token keyword\\">final</span> <span class=\\"token class-name\\">Selector</span> delegate<span class=\\"token punctuation\\">;</span>\\n\\n    <span class=\\"token class-name\\">SelectedSelectionKeySetSelector</span><span class=\\"token punctuation\\">(</span><span class=\\"token class-name\\">Selector</span> delegate<span class=\\"token punctuation\\">,</span> <span class=\\"token class-name\\">SelectedSelectionKeySet</span> selectionKeys<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>delegate <span class=\\"token operator\\">=</span> delegate<span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>selectionKeys <span class=\\"token operator\\">=</span> selectionKeys<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n\\n    <span class=\\"token annotation punctuation\\">@Override</span>\\n    <span class=\\"token keyword\\">public</span> <span class=\\"token keyword\\">boolean</span> <span class=\\"token function\\">isOpen</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">return</span> delegate<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">isOpen</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n\\n    <span class=\\"token annotation punctuation\\">@Override</span>\\n    <span class=\\"token keyword\\">public</span> <span class=\\"token class-name\\">SelectorProvider</span> <span class=\\"token function\\">provider</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">return</span> delegate<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">provider</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n\\n    <span class=\\"token annotation punctuation\\">@Override</span>\\n    <span class=\\"token keyword\\">public</span> <span class=\\"token class-name\\">Set</span><span class=\\"token generics\\"><span class=\\"token punctuation\\">&lt;</span><span class=\\"token class-name\\">SelectionKey</span><span class=\\"token punctuation\\">&gt;</span></span> <span class=\\"token function\\">keys</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">return</span> delegate<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">keys</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n\\n    <span class=\\"token annotation punctuation\\">@Override</span>\\n    <span class=\\"token keyword\\">public</span> <span class=\\"token class-name\\">Set</span><span class=\\"token generics\\"><span class=\\"token punctuation\\">&lt;</span><span class=\\"token class-name\\">SelectionKey</span><span class=\\"token punctuation\\">&gt;</span></span> <span class=\\"token function\\">selectedKeys</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">return</span> delegate<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">selectedKeys</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n\\n    <span class=\\"token annotation punctuation\\">@Override</span>\\n    <span class=\\"token keyword\\">public</span> <span class=\\"token keyword\\">int</span> <span class=\\"token function\\">selectNow</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token keyword\\">throws</span> <span class=\\"token class-name\\">IOException</span> <span class=\\"token punctuation\\">{</span>\\n        selectionKeys<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">reset</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token keyword\\">return</span> delegate<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">selectNow</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n\\n    <span class=\\"token annotation punctuation\\">@Override</span>\\n    <span class=\\"token keyword\\">public</span> <span class=\\"token keyword\\">int</span> <span class=\\"token function\\">select</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">long</span> timeout<span class=\\"token punctuation\\">)</span> <span class=\\"token keyword\\">throws</span> <span class=\\"token class-name\\">IOException</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token comment\\">// 增强功能</span>\\n        selectionKeys<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">reset</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token keyword\\">return</span> delegate<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">select</span><span class=\\"token punctuation\\">(</span>timeout<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n\\n    <span class=\\"token annotation punctuation\\">@Override</span>\\n    <span class=\\"token keyword\\">public</span> <span class=\\"token keyword\\">int</span> <span class=\\"token function\\">select</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token keyword\\">throws</span> <span class=\\"token class-name\\">IOException</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token comment\\">// 增强功能</span>\\n        selectionKeys<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">reset</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token keyword\\">return</span> delegate<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">select</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n\\n    <span class=\\"token annotation punctuation\\">@Override</span>\\n    <span class=\\"token keyword\\">public</span> <span class=\\"token class-name\\">Selector</span> <span class=\\"token function\\">wakeup</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">return</span> delegate<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">wakeup</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n\\n    <span class=\\"token annotation punctuation\\">@Override</span>\\n    <span class=\\"token keyword\\">public</span> <span class=\\"token keyword\\">void</span> <span class=\\"token function\\">close</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token keyword\\">throws</span> <span class=\\"token class-name\\">IOException</span> <span class=\\"token punctuation\\">{</span>\\n        delegate<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">close</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","copyright":{},"autoDesc":true}');export{n as data};
