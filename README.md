# Sona

## 个人信息

### [我是谁？](./introduction/about-me.md#关于作者)

一个喜欢技术和金融的 `it` 人。

- 擅长行业
  - **互联网:**  58用户增长部（2020/05 ～ 至今）
  - **支付:**  汽车租赁行业（2018/07 ～ 2020/05）
- 擅长工作内容
  - **宏观:**  项目分析、集群拆分、模块拆分
  - **微观:**  设计模式、算法（一般）选择
  - **项目:**  脚手架搭建、插件二次开发

## 工作经历

### 58用户价值增长部

#### 58 服务号体系搭建

业务：

58服务号平台搭建目的是为各业务线（转转、租房、到家精选、招聘、58汽车、58二手车等）提供生态系统，支持多种消息类型（文本、视频、模板）触达能力，从而为各业务吸引精准流量，形成高用户留存。58服务号体系搭建与公司内部多个系统（推荐、推送、IM、账户、BI等）进行打通。

职责：

* 服务号关注关系使用策略模式保证单一职责
* 消息（文本、视频、模板）推送与IM打通，模版+策略模式保证消息类型可扩展性
* 模版消息填充引擎设计和编码，其具备低代码开发雏形，设计保证模版消息插件可扩展性
* 模版消息初始化到上线流程引擎设计，使用状态机设计模式保证模版生命周期简短、清晰
* 关注网关（鉴权、监控能力）、模版消息开放平台（支持公司外部系统http调用）

技术难点：

* 租户隔离探索和落地
* 数据推送高可用推进

个人成长：

从0～1搭建服务号体系，集群按照项目职责拆分，代码按照模块化设计，保证模块间低耦合，带领3人小团队开发情况下，保证了快速迭代前提下又保证了可扩展性。

#### 58首页金刚位

业务：

为了解决旧版58首页金刚位在多维度下（城市、平台、版本）出现配置困难、上线后结果与预期不一致、问题排查困难、测试流程繁琐等问题，现对金刚位模块、流程进行重新设计，实现了抽象数据实体化、无Charles代理查看效果、自动化测试等保证了系统稳定性。

职责：

* 模块职责拆分和设计，模块拆分包含icon、模版（icon组合）、维度信息配置、上线流程引擎、临时运营（图片、名称、角标、协议）、个性化
* 设计模版引擎（插件组合），进行校验，选择不同引擎校验不同icon组合是否符合预期，例：前n个不允许出现小icon
* 初始化到上线流程引擎设计，支持多模块，新增模块情况下不需要改变引擎代码，例：维度信息配置、临时运营(图片、协议、角标）
* 请求进行分组，保证单个对象的不被侵入性，支持对象复用，现有4个分组（正式、内置、效果测试、自动化测试）

技术难点：

* icon获取导致流量网卡达到瓶颈
* 城市、平台、版本多维度话下版本配置上线问题
* 版本配置使用线段与手机版本点之间兼容问题

个人成长：

项目中使用模版作为粘合层将维度配置和icon从抽象转为实体，解释模型将版本维度配置从线变成点，版本号+备忘录模式保证全流程数据安全性，接口分组到注解分组支持更多流程对bean的非侵入性。2021年05月上线后项目稳定。

#### 58首页feed流

业务：

58首页于2021年09月开始改版，之前对各业务线（推荐、商业广告、增长部广告、其他等）调用平铺到一个方法中，每次业务线组合修改都需要编码和上线，在改版时进行重新设计，支持无业务线增加情况下支持后台编排业务线组合能力。

职责：

* 使用Netty中的handler对应各个业务线
* handler设计包含read、write方法，read时进行异步调用，write获取异步调用结果
* Pipeline代表业务线组合

技术难点：

* 编排业务线插件组合互斥问题
* 各业务线响应时间不同，线程配置问题

个人成长：

Netty领域模型应用到实际工作中，熔断框架二次开发支持注解方式将业务线熔断上报到公司监控系统。

### 支付行业

- 扣款体系支付路由搭建
  - 批量扣款
  - 单比实时扣款
  - 扫码支付
  - 对公账户处理
  - 其他等
- 个人账户搭建
  - 还款账单冲抵
  - 逾期罚息生成
  - 三方资方对接
  - 日间，日末文件 `ETL` 标准化处理
  - 其他等
- 对账系统和凭证系统搭建
